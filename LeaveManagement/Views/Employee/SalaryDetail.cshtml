@model SalaryReport

@{
    ViewData["Title"] = "Salary Slip";
    Layout = "~/Views/Shared/_EmployeeLayout.cshtml";
    var monthName = Model != null
        ? System.Globalization.CultureInfo.CurrentCulture.DateTimeFormat.GetMonthName(Model.Month)
        : System.Globalization.CultureInfo.CurrentCulture.DateTimeFormat.GetMonthName(DateTime.UtcNow.Month);
}

<div class="card border mb-4">
    <div class="card-header text-center">
        <h4 class="mb-0">Salary Slip</h4>
        <small>
            For the month of <strong>@monthName @(Model?.Year ?? DateTime.UtcNow.Year)</strong>
        </small>
    </div>

    <div class="card-body">
        @if (Model == null)
        {
            <div class="alert alert-warning text-center">
                No salary report available for the selected user.
            </div>
        }
        else
        {
            <table class="table table-bordered">
                <tbody>
                    <tr>
                        <th style="width: 50%;">Employee Name</th>
                        <td>@Model.User?.UserName </td>
                    </tr>
                    <tr>
                        <th>Total Working Days</th>
                        <td>@Model.TotalWorkingDays</td>
                    </tr>
                    <tr>
                        <th>Leaves Taken This Month</th>
                        <td>@Model.LeaveTakenThisMonth</td>
                    </tr>
                    <tr>
                        <th>Base Salary</th>
                        <td>₹@Model.BaseSalary.ToString("N2")</td>
                    </tr>
                    <tr>
                        <th>Deductions</th>
                        <td>
                            @if (Model.Deductions > 0)
                            {
                                @($"₹{Model.Deductions:N2}")
                            }
                            else
                            {
                                <span class="text-success">No deductions</span>
                            }
                        </td>
                    </tr>
                    <tr>
                        <th>Bonuses</th>
                        <td>
                            @if (Model.Bonuses > 0)
                            {
                                @($"₹{Model.Bonuses:N2}")
                            }
                            else
                            {
                                <span class="text-muted">No bonuses</span>
                            }
                        </td>
                    </tr>
                    <tr>
                        <th><strong>Final Salary</strong></th>
                        <td><strong>₹@Model.FinalSalary.ToString("N2")</strong></td>
                    </tr>
                </tbody>
            </table>
        }
    </div>
</div>
